========================================
COPY THESE RULES TO FIREBASE CONSOLE
========================================

STEP 1: FIRESTORE RULES
------------------------
1. Go to: https://console.firebase.google.com/
2. Select project: circl-d
3. Click: Firestore Database → Rules tab
4. DELETE EVERYTHING in the editor
5. Copy and paste EXACTLY this:

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null && request.auth.uid == userId;
      allow update: if request.auth != null && request.auth.uid == userId;
      allow delete: if request.auth != null && request.auth.uid == userId;
    }
  }
}

6. Click: Publish
7. Wait 30 seconds


STEP 2: STORAGE RULES
----------------------
1. Still in Firebase Console
2. Click: Storage → Rules tab
3. DELETE EVERYTHING in the editor
4. Copy and paste EXACTLY this:

rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /users/{userId}/profile/{fileName} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && request.auth.uid == userId;
      allow delete: if request.auth != null && request.auth.uid == userId;
    }
    match /users/{userId}/files/{fileName} {
      allow read: if request.auth != null && request.auth.uid == userId;
      allow write: if request.auth != null && request.auth.uid == userId;
      allow delete: if request.auth != null && request.auth.uid == userId;
    }
  }
}

5. Click: Publish
6. Wait 30 seconds


STEP 3: TEST
------------
1. Clear browser cache (Ctrl+Shift+Delete)
2. Close and reopen your browser
3. Go to your app
4. Try to register a new user
5. Should work now!


TROUBLESHOOTING
---------------
If still getting "Permission Denied":

1. Check Firebase Console → Firestore Database → Rules
   - Make sure the rules above are there
   - Check the "Published" timestamp (should be recent)

2. Check if user is authenticated:
   - Open browser console (F12)
   - Type: firebase.auth().currentUser
   - Should show user object, not null

3. Check the exact error:
   - Open browser console (F12)
   - Look for the full error message
   - Share it with me if you need help

4. Try incognito/private window:
   - Sometimes cache causes issues
   - Test in a fresh incognito window
